<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Luna Wardrobe - Chi ti·∫øt s·∫£n ph·∫©m</title>
  <link rel="stylesheet" href="ChitietSanPham.css">
  <link rel="stylesheet" href="text.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body>
  <header>
    <div class="logo-title">
        <img src="img/Logo1.jpg" alt="Logo" class="logo">
        <span class="title">Luna Wardrobe</span>
    </div>

        <div class="navbar">
            <div class="hamburger" onclick="toggleMenu()">‚ò∞</div>
            <ul class="nav-links" id="navLinks">
              <li><a href="index.html">Trang Ch·ªß</a></li>
              <li><a href="Sanpham.html">S·∫£n Ph·∫©m</a></li>
              <li><a href="Giohang.html">Gi·ªè H√†ng</a></li>
              <li><a href="Login.html">ƒêƒÉng Nh·∫≠p</a></li>
              <li><a href="Gioithieu.html">Gi·ªõi Thi·ªáu</a></li>
              <li><a href="Lienhe.html">Li√™n H·ªá</a></li>
            </ul>
        </div>
        
</header>
</body>
<main>

  <div class="product-container">
    <div class="product-image">
      <img src="" alt="H√¨nh s·∫£n ph·∫©m">
    </div>
    <div class="product-details">
      <h1></h1>
      <p class="product-price">Gi√°:</p>
      <div class="product-material">
        <p id="materialText"></p>
      </div>
      <div class="product-color">
        <p id="colorText"></p>
      </div>
      <div class="product-style">
        <p id="styleText"></p>
      </div>      

      <div class="product-description">
        <p></p>
      </div>

      <div class="product-rating">
        <div class="customer-reviews">
          <h3>ƒê√°nh gi√° c·ªßa kh√°ch h√†ng</h3>
          <ul id="reviews-list">
            <!-- ƒê√°nh gi√° s·∫Ω ƒë∆∞·ª£c render t·∫°i ƒë√¢y -->
          </ul>
          <textarea id="review-text" placeholder="Vi·∫øt ƒë√°nh gi√° c·ªßa b·∫°n..."></textarea>
          <button onclick="submitReview()">G·ª≠i ƒë√°nh gi√°</button>
        </div>
        
        <span>‚≠ê‚≠ê‚≠ê‚òÜ</span>
        <span>(200 ƒë√°nh gi√°)</span>
      </div>

      <div class="product-options">
        <label for="size">K√≠ch th∆∞·ªõc:</label>
        <select id="size" name="size">
          <option value="S">S</option>
          <option value="M">M</option>
          <option value="L">L</option>
          <option value="XL">XL</option>
        </select>
      </div>

      <button class="buy-button">Mua Ngay</button>
      <button class="add-cart" onclick="addToCart()">Th√™m v√†o gi·ªè h√†ng</button>


      <div class="like-container">
        <div class="fb-like" data-href="https://facebook.com" data-width="" data-layout="button" data-action="like" data-size="small" data-share="true"></div>
      </div>

      <div class="share-container">
        <a href="https://facebook.com/sharer/sharer.php?u=https://yourwebsite.com" id="fb-share-button" target="_blank">Chia s·∫ª qua Facebook</a>
      </div>

      <div class="fb-comments" data-href="https://yourwebsite.com" data-width="100%" data-numposts="3"></div>

      <br>
      <a href="Sanpham.html">‚Üê Quay l·∫°i s·∫£n ph·∫©m</a>
    </div>
  </div>
  <footer>
    <p>Luna Wardrobe &copy; 2025. All rughts reserved.</p>
</footer>
</main>

<script>
  function addToCart() {
    const product = JSON.parse(localStorage.getItem('selectedProduct'));
    const size = document.getElementById("size").value;
  
    if (!product) {
      alert("Kh√¥ng t√¨m th·∫•y s·∫£n ph·∫©m ƒë·ªÉ th√™m v√†o gi·ªè h√†ng!");
      return;
    }
  
    product.size = size;
    let cart = JSON.parse(localStorage.getItem("cart")) || [];
    cart.push(product);
    localStorage.setItem("cart", JSON.stringify(cart));
  
    alert("ƒê√£ th√™m v√†o gi·ªè h√†ng v·ªõi size: " + size + "!");
  }
  
  function getQueryParam(param) {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get(param);
  }
  
  function getProductId() {
    const product = JSON.parse(localStorage.getItem("selectedProduct"));
    return product && product.name ? product.name : "unknown";
  }
  
  function loadReviews() {
    const productId = getProductId();
    const reviews = JSON.parse(localStorage.getItem("reviews_" + productId)) || [];
    const reviewsList = document.getElementById("reviews-list");
    reviewsList.innerHTML = "";
  
    reviews.forEach((review, index) => {
      const li = document.createElement("li");
      li.textContent = review;
  
      const deleteBtn = document.createElement("button");
      deleteBtn.textContent = "üóë X√≥a";
      deleteBtn.style.marginLeft = "10px";
      deleteBtn.style.color = "red";
      deleteBtn.style.background = "none";
      deleteBtn.style.border = "none";
      deleteBtn.style.cursor = "pointer";
  
      deleteBtn.onclick = () => deleteReview(index);
  
      li.appendChild(deleteBtn);
      reviewsList.appendChild(li);
    });
  }
  
  function submitReview() {
    const productId = getProductId();
    const textarea = document.getElementById("review-text");
    const reviewText = textarea.value.trim();
    if (reviewText === "") return alert("Vui l√≤ng nh·∫≠p n·ªôi dung ƒë√°nh gi√°.");
  
    const reviews = JSON.parse(localStorage.getItem("reviews_" + productId)) || [];
    reviews.push(reviewText);
    localStorage.setItem("reviews_" + productId, JSON.stringify(reviews));
  
    textarea.value = "";
    loadReviews();
  }
  
  function deleteReview(index) {
    const productId = getProductId();
    const reviews = JSON.parse(localStorage.getItem("reviews_" + productId)) || [];
    if (index >= 0 && index < reviews.length) {
      if (confirm("B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën xo√° ƒë√°nh gi√° n√†y?")) {
        reviews.splice(index, 1);
        localStorage.setItem("reviews_" + productId, JSON.stringify(reviews));
        loadReviews();
      }
    }
  }
  
  document.addEventListener("DOMContentLoaded", () => {
    const product = JSON.parse(localStorage.getItem('selectedProduct'));
  
    if (product) {
      document.querySelector(".product-details h1").textContent = product.name || "Kh√¥ng c√≥ t√™n s·∫£n ph·∫©m";
      document.querySelector(".product-image img").src = product.img || "img/default.jpg";
      document.querySelector(".product-price").textContent = "Gi√°: " + (product.price ? product.price + " VND" : "Li√™n h·ªá");
      document.querySelector(".product-description p").textContent = product.desc || "Kh√¥ng c√≥ m√¥ t·∫£";
  
      document.getElementById("materialText").textContent = "Ch·∫•t li·ªáu: " + (product.material || "ƒêang c·∫≠p nh·∫≠t");
      document.getElementById("colorText").textContent = "M√†u s·∫Øc: " + (product.color || "ƒêang c·∫≠p nh·∫≠t");
      document.getElementById("styleText").textContent = "Ki·ªÉu d√°ng: " + (product.style || "ƒêang c·∫≠p nh·∫≠t");
    }
  
    loadReviews(); // G·ªçi khi trang v·ª´a t·∫£i
  });
  </script>
  
</body>
</html>
